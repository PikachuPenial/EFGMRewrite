
MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8736466192642046,"x":0.6884715048167029}},{"name":"Kitchen Key","pos":{"y":0.6602868727108934,"x":0.8299089469690304}},{"name":"Fenced Off Area Key","pos":{"y":0.7898953673996487,"x":0.5413240499925012}},{"name":"Parking Marked Room Key","pos":{"y":0.9392746494138073,"x":0.6202635075657286}}],"offset":{"y":0.56253131315751,"x":0.59864338573771},"factor":{"y":-0.00013729713420419,"x":0.000069742328477479},"spawns":[{"type":0,"pos":{"y":0.7668294488533448,"x":0.5562400500234028},"group":"South"},{"type":0,"pos":{"y":0.4746611472668284,"x":0.004996685737408746},"group":"South"},{"type":0,"pos":{"y":1.045817225556259,"x":0.7367331961231185},"group":"North"},{"type":0,"pos":{"y":0.8217483025350207,"x":0.8257244072603817},"group":"North"},{"type":0,"pos":{"y":0.5232643327751116,"x":0.4931929850797618},"group":"South"},{"type":0,"pos":{"y":0.40659471867296687,"x":0.585228100441396},"group":"North"},{"type":0,"pos":{"y":0.3055550056358539,"x":0.13220669288033043},"group":"South"},{"type":0,"pos":{"y":0.8032639886867146,"x":0.37831899282500747},"group":"South"},{"type":0,"pos":{"y":0.39118448967068087,"x":0.21254985528638626},"group":"South"},{"type":0,"pos":{"y":0.32528186525266967,"x":0.475896887617347},"group":"North"},{"type":0,"pos":{"y":0.7843334591522446,"x":0.5605287137003674},"group":"North"},{"type":0,"pos":{"y":0.5581378048629759,"x":0.7950377827302909},"group":"North"},{"type":0,"pos":{"y":0.18468959982757915,"x":0.8865397176927434},"group":"North"},{"type":0,"pos":{"y":0.33846239013627194,"x":0.6589007575422519},"group":"North"},{"type":0,"pos":{"y":0.8155191322265729,"x":0.4011331114894895},"group":"South"},{"type":0,"pos":{"y":0.7053203327298676,"x":0.6132453367105011},"group":"North"},{"type":0,"pos":{"y":0.27731434938624394,"x":0.8636642339521303},"group":"North"},{"type":0,"pos":{"y":0.3785531533238954,"x":0.9401018259634473},"group":"North"},{"type":0,"pos":{"y":0.7368986735968314,"x":0.06469611891413074},"group":"South"},{"type":0,"pos":{"y":0.5630805016943268,"x":0.3442233714518666},"group":"South"},{"type":0,"pos":{"y":0.9930951260218499,"x":0.610194180075721},"group":"South"},{"type":0,"pos":{"y":0.6987300702880666,"x":0.724402749042913},"group":"North"},{"type":0,"pos":{"y":0.42661168384941495,"x":0.27816342429644997},"group":"South"},{"type":0,"pos":{"y":0.30029790976391024,"x":0.49575950617312015},"group":"North"},{"type":0,"pos":{"y":0.7513711692060682,"x":0.6722480447068105},"group":"North"},{"type":0,"pos":{"y":0.9315860098983728,"x":0.5294589958880509},"group":"South"}],"extracts":[{"accessibility":1,"pos":{"y":0.8833233186013312,"x":0.45660336884572106},"name":"Hermetic Door","group":""},{"accessibility":0,"pos":{"y":0.7455538903002328,"x":0.34964932801280163},"name":"Parked Trailer","group":"North"},{"accessibility":0,"pos":{"y":0.09460072431528876,"x":0.5922394988329632},"name":"Dead End","group":"South"},{"accessibility":0,"pos":{"y":0.2886496088308958,"x":0.073787719319371},"name":"Compartment","group":"North"},{"accessibility":0,"pos":{"y":0.17150907494397688,"x":0.4656161685927108},"name":"Circuit Heap","group":""},{"accessibility":0,"pos":{"y":0.8027820744048655,"x":0.640793624566848},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.20613096974227027,"x":0.3921701413378798}},{"loot":3,"name":"Hotel","pos":{"y":0.46439041380715484,"x":0.9081923486479963}},{"loot":2,"name":"Residential","pos":{"y":0.4441082585141011,"x":0.3698958014539899}},{"loot":5,"name":"Storage Building","pos":{"y":0.4741934555321308,"x":0.5882237767428884}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6874941220307462,"x":0.44599979605728046}},{"loot":1,"name":"Electrical","pos":{"y":0.3247293687401135,"x":0.49051912581806073}},{"loot":1,"name":"Fountain","pos":{"y":0.5522797534103878,"x":0.6984423147413662}},{"loot":1,"name":"Field","pos":{"y":0.18924691724947484,"x":0.9034950163335387}},{"loot":2,"name":"Crackshot","pos":{"y":0.41632339346637615,"x":0.1657967166393019}},{"loot":1,"name":"Railway","pos":{"y":0.395431085810772,"x":0.029909342277913198}},{"loot":1,"name":"Chemical","pos":{"y":0.09837019756878101,"x":0.17594778299263714}},{"loot":2,"name":"Library","pos":{"y":0.08724880749692643,"x":0.5320567090625494}},{"loot":3,"name":"Watchtower","pos":{"y":0.6858884514033794,"x":0.9383555172407638}},{"loot":2,"name":"Sheds","pos":{"y":0.36805017616514946,"x":0.7244290446059044}},{"loot":2,"name":"Auto Shop","pos":{"y":0.8794985254716552,"x":0.42186926118306634}},{"loot":4,"name":"Big Red","pos":{"y":0.5739140523896451,"x":0.40423540877498687}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24196277742666525,"x":0.372706774476599}},{"name":"Workshop Armory Key","pos":{"y":0.1689470183716717,"x":0.46163058306606475}},{"name":"Hotel Marked Room Key","pos":{"y":0.4839964972571068,"x":0.928674305909012}},{"name":"Storage Building Access Keycard","pos":{"y":0.49058988955752303,"x":0.6102730527009685}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7045649360690664,"x":0.5406657405638126}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6108123733099293,"x":0.6307098768028492}},{"name":"Hotel Maintenance Key","pos":{"y":0.4752075632967835,"x":0.9717670270665988}},{"name":"Railway Checkpoint Key","pos":{"y":0.6178587221912617,"x":0.16293006003284605}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5898017407025373,"x":0.2982002699527192}}],"offset":{"y":0.330528188873,"x":0.55737149547673},"factor":{"y":-0.000084508980387724,"x":0.00011601218689526},"spawns":[{"type":0,"pos":{"y":0.09593125931667817,"x":0.08589796793439342},"group":"North"},{"type":0,"pos":{"y":0.10472019327700147,"x":0.45528077100890124},"group":"North"},{"type":0,"pos":{"y":0.7189695082818142,"x":0.6383035697718598},"group":"South"},{"type":0,"pos":{"y":0.7702165710191116,"x":0.3829900964223921},"group":"South"},{"type":0,"pos":{"y":0.3367016036753465,"x":0.5281895570968622},"group":"North"},{"type":0,"pos":{"y":0.2216806221336115,"x":0.4627055509701979},"group":"North"},{"type":0,"pos":{"y":0.3764038042849673,"x":0.720252605877675},"group":"North"},{"type":0,"pos":{"y":0.34897616169930823,"x":0.40619137254664367},"group":"North"},{"type":0,"pos":{"y":0.19886742700436044,"x":0.78338180146386},"group":"North"},{"type":0,"pos":{"y":0.9011328244509125,"x":0.45528077100890124},"group":"South"},{"type":0,"pos":{"y":0.1872009581354201,"x":0.6427564650316414},"group":"North"},{"type":0,"pos":{"y":0.7091284210100035,"x":0.08218557795374509},"group":"South"},{"type":0,"pos":{"y":0.9795571582507203,"x":0.7132918746639595},"group":"South"},{"type":0,"pos":{"y":0.28525165671519,"x":0.14990885330865356},"group":"North"},{"type":0,"pos":{"y":0.1358194980596839,"x":0.39588253131852813},"group":"North"},{"type":0,"pos":{"y":0.716544909322038,"x":0.7903239667624121},"group":"North"},{"type":2,"pos":{"y":0.8907796490704047,"x":0.1867694031850215},"group":"South"},{"type":2,"pos":{"y":0.7028316766881065,"x":0.96880987755557},"group":"South"},{"type":2,"pos":{"y":0.5892515864149301,"x":0.6903806290069461},"group":"South"},{"type":2,"pos":{"y":0.6144783629757526,"x":0.3420528765991275},"group":"South"},{"type":2,"pos":{"y":0.48737685647261575,"x":0.19077298488770844},"group":"North"},{"type":2,"pos":{"y":0.27779458511106025,"x":0.24181834712162287},"group":"North"},{"type":2,"pos":{"y":0.3670360684004968,"x":0.3457652665797758},"group":"North"},{"type":2,"pos":{"y":0.3927267984383649,"x":0.9471724434448037},"group":"North"}],"extracts":[{"accessibility":1,"pos":{"y":0.7280584326168538,"x":0.030212118224668627},"name":"Railway to Belmont","group":"South"},{"accessibility":1,"pos":{"y":0.7523970189685183,"x":0.19355727737319467},"name":"Sewer Manhole","group":"North"},{"accessibility":0,"pos":{"y":0.15677772519583946,"x":0.6696712923913417},"name":"Getaway Driver","group":""},{"accessibility":1,"pos":{"y":0.30889388989374267,"x":0.20840683729578796},"name":"USEC Helicopter","group":""},{"accessibility":2,"pos":{"y":0.9822614456231276,"x":0.28265463690875436},"name":"Dealership Passage","group":"North"},{"accessibility":2,"pos":{"y":0.07362088849431903,"x":0.052486458108558565},"name":"Railroad Blockage","group":"South"}]}]])

MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.387908032768015,"x":0.18180952035956693}},{"loot":3,"name":"Medical","pos":{"y":0.6693345929101648,"x":0.7382662595174274}},{"loot":1,"name":"Forklift","pos":{"y":0.05881193773140636,"x":0.8098460829781655}},{"loot":1,"name":"Glass","pos":{"y":0.05077943244380423,"x":0.5454932908786781}},{"loot":2,"name":"Servers","pos":{"y":0.6963901731740736,"x":0.2655292629822634}},{"loot":2,"name":"Skybridge","pos":{"y":0.2998668021714975,"x":0.30094690831934257}},{"loot":3,"name":"Boilers","pos":{"y":0.5187056602548061,"x":0.4039383318446393}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.3356752231499519,"x":0.20268542032409956}},{"name":"Servers Key","pos":{"y":0.7115048167249037,"x":0.3308612146863511}},{"name":"Cellars Key","pos":{"y":0.07963831770981267,"x":0.7246991881626157}}],"offset":{"y":0.94390263170644,"x":0.39944923055574},"factor":{"y":-0.00015972358417975,"x":0.00015517650649183},"spawns":[{"pos":{"y":0.8796937508661804,"x":0.08040633320853752},"group":"north"},{"pos":{"y":0.6269359752886534,"x":0.036669819699859496},"group":"north"},{"pos":{"y":0.046575535784604494,"x":0.5024864308663152},"group":"south"},{"pos":{"y":0.031242071703348473,"x":0.9295321767318313},"group":"south"},{"pos":{"y":0.23425870217900713,"x":0.7810561811825496},"group":"south"},{"pos":{"y":0.2735666918436499,"x":0.7602749555563282},"group":"south"},{"pos":{"y":0.3381349507483138,"x":0.4867344621769339},"group":"south"},{"pos":{"y":0.2970221157784525,"x":0.6117306914365634},"group":"south"},{"pos":{"y":0.42991213781600446,"x":0.4776581898276223},"group":"north"},{"pos":{"y":0.6292471708723324,"x":0.740837544837766},"group":"south"},{"pos":{"y":0.3634671267972285,"x":0.8227707402654523},"group":"south"},{"pos":{"y":0.14624305231276846,"x":0.447864300581191},"group":"north"},{"pos":{"y":0.1243481309150033,"x":0.30274788965716853},"group":"north"},{"pos":{"y":0.4657109660206043,"x":0.4637326516504411},"group":"north"},{"pos":{"y":0.6645971859440913,"x":0.18935264806704144},"group":"north"},{"pos":{"y":0.7621371929098845,"x":0.2790322615180799},"group":"north"},{"pos":{"y":0.5454498068260754,"x":0.7399033792378941},"group":"south"},{"pos":{"y":0.07724246394711642,"x":0.5943509227094785},"group":"north"},{"pos":{"y":0.3383969192635774,"x":0.1587068413153655},"group":"north"}],"extracts":[{"accessibility":0,"pos":{"y":0.6599140990348444,"x":0.8898069910699229},"name":"Med Tent Gate","group":"north"},{"accessibility":0,"pos":{"y":0.9563610712724605,"x":0.08537198141627605},"name":"Gate 0","group":"south"},{"accessibility":0,"pos":{"y":0.12324285619088449,"x":0.045646795754367586},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end