
MAPINFO = {}

MAPINFO.efgm_belmont_rw = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8721663117382856,"x":0.6876119574160273}},{"name":"Kitchen Key","pos":{"y":0.6592522119570738,"x":0.8289321603290871}},{"name":"Fenced Off Area Key","pos":{"y":0.788589992004348,"x":0.540586474930983}}],"offset":{"y":0.56170083548074,"x":0.59785829797223},"factor":{"y":-0.00013701036021957,"x":0.000069684518201706},"spawns":[{"pos":{"y":0.7655722514874602,"x":0.5554901109055927},"group":"South"},{"pos":{"y":0.4740142049402152,"x":0.0047036790393085726},"group":"South"},{"pos":{"y":0.8992943630617605,"x":0.7188306215703916},"group":"North"},{"pos":{"y":0.8203763955752882,"x":0.8247510892369847},"group":"North"},{"pos":{"y":0.522515872457943,"x":0.4924953064512505},"group":"South"},{"pos":{"y":0.40608994741976934,"x":0.5844541327712652},"group":"North"},{"pos":{"y":0.3052612771060203,"x":0.13180824023922028},"group":"South"},{"pos":{"y":0.798454737940157,"x":0.1295783356567657},"group":"South"},{"pos":{"y":0.8019306901099316,"x":0.37771653466470206},"group":"South"},{"pos":{"y":0.3907119059267167,"x":0.2120848052075856},"group":"South"},{"pos":{"y":0.32494693302132305,"x":0.4752135459372274},"group":"North"},{"pos":{"y":0.7830397009738613,"x":0.5597752196563701},"group":"North"},{"pos":{"y":0.5573165039537138,"x":0.7940899012282341},"group":"North"},{"pos":{"y":0.18464832415648336,"x":0.8855159891088724},"group":"North"},{"pos":{"y":0.33809992760240176,"x":0.658065721698504},"group":"North"}],"extracts":[{"pos":{"y":0.8818227992505774,"x":0.4559360198011382},"name":"Hermetic Door","group":""},{"pos":{"y":0.7443411314198028,"x":0.3490706344910636},"name":"Parked Trailer","group":"North"},{"pos":{"y":0.0947476182367365,"x":0.5914597193282778},"name":"Dead End","group":"South"},{"pos":{"y":0.28839119078318876,"x":0.07343769088556307},"name":"Compartment","group":"North"},{"pos":{"y":0.04147661205181463,"x":0.4649413487273189},"name":"Circuit Heap","group":""},{"pos":{"y":0.801449782407569,"x":0.6399735979488259},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete_rw = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.20644381729639724,"x":0.38689307654050786}},{"loot":3,"name":"Hotel","pos":{"y":0.46492395965293365,"x":0.8982171097583562}},{"loot":3,"name":"Big Red","pos":{"y":0.5731878936242578,"x":0.38689307654050786}},{"loot":2,"name":"Residential","pos":{"y":0.4446244720333104,"x":0.36482153553829855}},{"loot":3,"name":"Car Dealership","pos":{"y":0.877680207918607,"x":0.37953589620643813}},{"loot":5,"name":"Storage Building","pos":{"y":0.4747353786690849,"x":0.5811617226611284}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6882183234687897,"x":0.4402326339625136}},{"loot":1,"name":"Electrical","pos":{"y":0.32514356578853,"x":0.4843466331799099}},{"loot":1,"name":"Fountain","pos":{"y":0.5528884060046345,"x":0.6903767653208854}},{"loot":1,"name":"Field","pos":{"y":0.18954533636109194,"x":0.8935625447602464}},{"loot":2,"name":"Crackshot","pos":{"y":0.41681586314043,"x":0.16258069058024477}},{"loot":1,"name":"Railway","pos":{"y":0.39590570174621453,"x":0.02793051596074103}},{"loot":1,"name":"Chemical","pos":{"y":0.09859095703524137,"x":0.17263933556823075}},{"loot":2,"name":"Library","pos":{"y":0.08746006306393195,"x":0.5255060334805444}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24230624542439838,"x":0.367606915785167}},{"name":"Workshop Armory Key","pos":{"y":0.16922808999375458,"x":0.4557211089592835}},{"name":"Hotel Marked Room Key","pos":{"y":0.4845467976852362,"x":0.918512587058627}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5738645432115785,"x":0.4174207834248883}},{"name":"Storage Building Access Keycard","pos":{"y":0.4911458244375586,"x":0.603010248853807}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7053037255486394,"x":0.534036683221903}},{"name":"Hotel Maintenance Key","pos":{"y":0.47667313681573376,"x":0.9603255098588812}},{"name":"Railway Checkpoint Key","pos":{"y":0.6185234159747498,"x":0.15974013372610402}}],"offset":{"y":0.33094734136342,"x":0.55059033897356},"factor":{"y":-0.000084581198415097,"x":0.00011495594271984},"spawns":[{"pos":{"y":0.09614993456311074,"x":0.08340938776013024},"group":"North"},{"pos":{"y":0.10494637919828084,"x":0.44942910938010083},"group":"North"},{"pos":{"y":0.7197206073382579,"x":0.6307855593711241},"group":"South"},{"pos":{"y":0.7710114637855559,"x":0.37779661223177863},"group":"South"},{"pos":{"y":0.3371260317215375,"x":0.5216740903739309},"group":"North"},{"pos":{"y":0.22200675780477508,"x":0.45678628971417057},"group":"North"},{"pos":{"y":0.37686216025925817,"x":0.7119884825522154},"group":"North"},{"pos":{"y":0.34941107909661073,"x":0.4007866500937028},"group":"North"},{"pos":{"y":0.199174067422561,"x":0.7745429122718017},"group":"North"},{"pos":{"y":0.902039593062155,"x":0.44942910938010083},"group":"South"},{"pos":{"y":0.5745411927988994,"x":0.7492342079934435},"group":"North"},{"pos":{"y":0.18749762885141552,"x":0.6351979128153623},"group":"North"},{"pos":{"y":0.7098711102630546,"x":0.07973079759309537},"group":"South"},{"pos":{"y":0.9805309451913649,"x":0.705091125989025},"group":"South"},{"pos":{"y":0.28563211767455937,"x":0.14683747983784579},"group":"North"},{"pos":{"y":0.13607226021503654,"x":0.39057166670754273},"group":"North"}],"extracts":[{"pos":{"y":0.7362604441685648,"x":0.028862792939566173},"name":"Railway to Belmont","group":"South"},{"pos":{"y":0.7526429715336553,"x":0.19211631308493682},"name":"Sewer Manhole","group":"North"},{"pos":{"y":0.16365672686714625,"x":0.6685086985825236},"name":"Getaway Driver","group":""},{"pos":{"y":0.3090875851406726,"x":0.20258766001083672},"name":"USEC Helicopter","group":""}]}]])

MAPINFO.efgm_factory_rw = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.38887760251921033,"x":0.18220436636956713}},{"loot":3,"name":"Medical","pos":{"y":0.6708500950239337,"x":0.7363452502760641}},{"loot":1,"name":"Forklift","pos":{"y":0.0591431021786164,"x":0.8076271736515159}},{"loot":1,"name":"Glass","pos":{"y":0.05109501483441359,"x":0.5443745619590855}},{"loot":2,"name":"Servers","pos":{"y":0.6979581597329738,"x":0.2655756851311581}},{"loot":2,"name":"Skybridge","pos":{"y":0.3006655829360415,"x":0.30084592971958435}},{"loot":3,"name":"Boilers","pos":{"y":0.5199289610602302,"x":0.4034087247240415}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.33654346777695054,"x":0.20299338525394073}},{"name":"Servers Key","pos":{"y":0.7131021238037256,"x":0.3306357390707139}}],"offset":{"y":0.94595076150834,"x":0.39893830612521},"factor":{"y":-0.00016003342797568,"x":0.00015453069469343},"spawns":[{"pos":{"y":0.8816173234621166,"x":0.0812231978355179},"group":"north"},{"pos":{"y":0.6283692293819216,"x":0.03766870644528647},"group":"north"},{"pos":{"y":0.046882963140969736,"x":0.5015466874016475},"group":"south"},{"pos":{"y":0.031519754055304494,"x":0.9268151591979669},"group":"south"},{"pos":{"y":0.23493021142726367,"x":0.7789570893377775},"group":"south"},{"pos":{"y":0.2743144536803429,"x":0.7582623507771438},"group":"south"},{"pos":{"y":0.3390079669395115,"x":0.4858602750742286},"group":"south"},{"pos":{"y":0.297815378206836,"x":0.6103362964658222},"group":"south"},{"pos":{"y":0.43096319028260177,"x":0.4768217762506987},"group":"north"},{"pos":{"y":0.6306849083962505,"x":0.738905834450756},"group":"south"},{"pos":{"y":0.36438928424471884,"x":0.820498041248887},"group":"south"},{"pos":{"y":0.14674382219779403,"x":0.44715188286956015},"group":"north"},{"pos":{"y":0.1248064273882763,"x":0.30263941575401065},"group":"north"},{"pos":{"y":0.4668314637408736,"x":0.46295419321799913},"group":"north"},{"pos":{"y":0.6661034980802825,"x":0.18971610117498156},"group":"north"},{"pos":{"y":0.7638327204720161,"x":0.2790224870431083},"group":"north"},{"pos":{"y":0.5467249879341806,"x":0.737975556650524},"group":"south"},{"pos":{"y":0.07760938131230033,"x":0.5930288586601581},"group":"north"},{"pos":{"y":0.3392704436409619,"x":0.15919783578906488},"group":"north"}],"extracts":[{"pos":{"y":0.661411326567581,"x":0.8872553013564488},"name":"Med Tent Gate","group":"north"},{"pos":{"y":0.9584333688904431,"x":0.08616818006570764},"name":"Gate 0","group":"south"},{"pos":{"y":0.12369900856929616,"x":0.046608322224189536},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont_rw"] = "Belmont"
MAPNAMES["efgm_concrete_rw"] = "Concrete"
MAPNAMES["efgm_factory_rw"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end