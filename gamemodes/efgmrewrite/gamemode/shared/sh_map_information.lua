
MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8735529846737909,"x":0.6882978291666731}},{"name":"Kitchen Key","pos":{"y":0.6600563920467742,"x":0.8296770280950929}},{"name":"Fenced Off Area Key","pos":{"y":0.7897480158819761,"x":0.5412109689207412}},{"name":"Parking Marked Room Key","pos":{"y":0.939223107759836,"x":0.6201179196242695}}],"offset":{"y":0.56223813339141,"x":0.59850670085316},"factor":{"y":-0.00013738519474068,"x":0.000069713608939063},"spawns":[{"type":0,"pos":{"y":0.7666673031655419,"x":0.5561208266182097},"group":"South"},{"type":0,"pos":{"y":0.4743116087573748,"x":0.024066563195281},"group":"South"},{"type":0,"pos":{"y":1.0458340188786037,"x":0.7365396465525048},"group":"North"},{"type":0,"pos":{"y":0.8216213810618138,"x":0.8254942115587491},"group":"North"},{"type":0,"pos":{"y":0.5229459676955756,"x":0.4930997241372968},"group":"South"},{"type":0,"pos":{"y":0.40620152327108305,"x":0.5850969399035353},"group":"North"},{"type":0,"pos":{"y":0.3050970047200865,"x":0.13226208426870673},"group":"South"},{"type":0,"pos":{"y":0.8031252116230501,"x":0.3782730364120238},"group":"South"},{"type":0,"pos":{"y":0.39078141035504144,"x":0.21257216176650734},"group":"South"},{"type":0,"pos":{"y":0.324836516879515,"x":0.47581074912040916},"group":"North"},{"type":0,"pos":{"y":0.7841825403013789,"x":0.5604077242451455},"group":"North"},{"type":0,"pos":{"y":0.5578418071597083,"x":0.7948202236255615},"group":"North"},{"type":0,"pos":{"y":0.18415407746505869,"x":0.8862844785536121},"group":"North"},{"type":0,"pos":{"y":0.33802549557462025,"x":0.6587392589765104},"group":"North"},{"type":0,"pos":{"y":0.8153882154472554,"x":0.4010777603377337},"group":"South"},{"type":0,"pos":{"y":0.7051187359217173,"x":0.6131026388163332},"group":"North"},{"type":0,"pos":{"y":0.2768382352931361,"x":0.8634184148215994},"group":"North"},{"type":0,"pos":{"y":0.3781419724388988,"x":0.9398245302188124},"group":"North"},{"type":0,"pos":{"y":0.7367173307120737,"x":0.06477931081569377},"group":"South"},{"type":0,"pos":{"y":0.5627876741703728,"x":0.34419145544345825},"group":"South"},{"type":2,"pos":{"y":0.9930781040981825,"x":0.6100527386324359},"group":"South"},{"type":2,"pos":{"y":0.6985242465741646,"x":0.7242142770880936},"group":"North"},{"type":2,"pos":{"y":0.4262313270599505,"x":0.2781587114404385},"group":"South"},{"type":2,"pos":{"y":0.29983653701751034,"x":0.4956651883502391},"group":"North"},{"type":2,"pos":{"y":0.7511991087854717,"x":0.6720810497956669},"group":"North"},{"type":2,"pos":{"y":0.9315295368543579,"x":0.5293508007856096},"group":"South"},{"type":2,"pos":{"y":0.09411045905494025,"x":0.6147234802241663},"group":"North"},{"type":2,"pos":{"y":0.7303976117540023,"x":0.5115041168972094},"group":"South"}],"extracts":[{"accessibility":1,"pos":{"y":0.8963589270007438,"x":0.4624257362041091},"name":"Hermetic Door","group":""},{"accessibility":0,"pos":{"y":0.756775569144213,"x":0.3664998103039584},"name":"Parked Trailer","group":"North"},{"accessibility":0,"pos":{"y":0.07424592167251465,"x":0.6029683718252601},"name":"Dead End","group":"South"},{"accessibility":0,"pos":{"y":0.27317968365701933,"x":0.07872203260350641},"name":"Compartment","group":"North"},{"accessibility":0,"pos":{"y":0.0802908702411046,"x":0.4713490781483092},"name":"Circuit Heap","group":""},{"accessibility":0,"pos":{"y":0.7952434236716033,"x":0.6328057964511791},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.20613096974227027,"x":0.3921701413378798}},{"loot":3,"name":"Hotel","pos":{"y":0.46439041380715484,"x":0.9081923486479963}},{"loot":2,"name":"Residential","pos":{"y":0.4441082585141011,"x":0.3698958014539899}},{"loot":5,"name":"Storage Building","pos":{"y":0.4741934555321308,"x":0.5882237767428884}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6874941220307462,"x":0.44599979605728046}},{"loot":1,"name":"Electrical","pos":{"y":0.3247293687401135,"x":0.49051912581806073}},{"loot":1,"name":"Fountain","pos":{"y":0.5522797534103878,"x":0.6984423147413662}},{"loot":1,"name":"Field","pos":{"y":0.18924691724947484,"x":0.9034950163335387}},{"loot":2,"name":"Crackshot","pos":{"y":0.41632339346637615,"x":0.1657967166393019}},{"loot":1,"name":"Railway","pos":{"y":0.395431085810772,"x":0.029909342277913198}},{"loot":1,"name":"Chemical","pos":{"y":0.09837019756878101,"x":0.17594778299263714}},{"loot":2,"name":"Library","pos":{"y":0.08724880749692643,"x":0.5320567090625494}},{"loot":3,"name":"Watchtower","pos":{"y":0.6858884514033794,"x":0.9383555172407638}},{"loot":2,"name":"Sheds","pos":{"y":0.36805017616514946,"x":0.7244290446059044}},{"loot":2,"name":"Auto Shop","pos":{"y":0.8794985254716552,"x":0.42186926118306634}},{"loot":4,"name":"Big Red","pos":{"y":0.5739140523896451,"x":0.40423540877498687}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24196277742666525,"x":0.372706774476599}},{"name":"Workshop Armory Key","pos":{"y":0.1689470183716717,"x":0.46163058306606475}},{"name":"Hotel Marked Room Key","pos":{"y":0.4839964972571068,"x":0.928674305909012}},{"name":"Storage Building Access Keycard","pos":{"y":0.49058988955752303,"x":0.6102730527009685}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7045649360690664,"x":0.5406657405638126}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6108123733099293,"x":0.6307098768028492}},{"name":"Hotel Maintenance Key","pos":{"y":0.4752075632967835,"x":0.9717670270665988}},{"name":"Railway Checkpoint Key","pos":{"y":0.6178587221912617,"x":0.16293006003284605}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5898017407025373,"x":0.2982002699527192}}],"offset":{"y":0.330528188873,"x":0.55737149547673},"factor":{"y":-0.000084508980387724,"x":0.00011601218689526},"spawns":[{"type":0,"pos":{"y":0.09593125931667817,"x":0.08589796793439342},"group":"North"},{"type":0,"pos":{"y":0.10472019327700147,"x":0.45528077100890124},"group":"North"},{"type":0,"pos":{"y":0.7189695082818142,"x":0.6383035697718598},"group":"South"},{"type":0,"pos":{"y":0.7702165710191116,"x":0.3829900964223921},"group":"South"},{"type":0,"pos":{"y":0.3367016036753465,"x":0.5281895570968622},"group":"North"},{"type":0,"pos":{"y":0.2216806221336115,"x":0.4627055509701979},"group":"North"},{"type":0,"pos":{"y":0.3764038042849673,"x":0.720252605877675},"group":"North"},{"type":0,"pos":{"y":0.34897616169930823,"x":0.40619137254664367},"group":"North"},{"type":0,"pos":{"y":0.19886742700436044,"x":0.78338180146386},"group":"North"},{"type":0,"pos":{"y":0.9011328244509125,"x":0.45528077100890124},"group":"South"},{"type":0,"pos":{"y":0.1872009581354201,"x":0.6427564650316414},"group":"North"},{"type":0,"pos":{"y":0.7091284210100035,"x":0.08218557795374509},"group":"South"},{"type":0,"pos":{"y":0.9795571582507203,"x":0.7132918746639595},"group":"South"},{"type":0,"pos":{"y":0.28525165671519,"x":0.14990885330865356},"group":"North"},{"type":0,"pos":{"y":0.1358194980596839,"x":0.39588253131852813},"group":"North"},{"type":0,"pos":{"y":0.716544909322038,"x":0.7903239667624121},"group":"North"},{"type":2,"pos":{"y":0.8907796490704047,"x":0.1867694031850215},"group":"South"},{"type":2,"pos":{"y":0.7028316766881065,"x":0.96880987755557},"group":"South"},{"type":2,"pos":{"y":0.5892515864149301,"x":0.6903806290069461},"group":"South"},{"type":2,"pos":{"y":0.6144783629757526,"x":0.3420528765991275},"group":"South"},{"type":2,"pos":{"y":0.48737685647261575,"x":0.19077298488770844},"group":"North"},{"type":2,"pos":{"y":0.27779458511106025,"x":0.24181834712162287},"group":"North"},{"type":2,"pos":{"y":0.3670360684004968,"x":0.3457652665797758},"group":"North"},{"type":2,"pos":{"y":0.3927267984383649,"x":0.9471724434448037},"group":"North"}],"extracts":[{"accessibility":1,"pos":{"y":0.7280584326168538,"x":0.030212118224668627},"name":"Railway to Belmont","group":"South"},{"accessibility":1,"pos":{"y":0.7523970189685183,"x":0.19355727737319467},"name":"Sewer Manhole","group":"North"},{"accessibility":0,"pos":{"y":0.15677772519583946,"x":0.6696712923913417},"name":"Getaway Driver","group":""},{"accessibility":1,"pos":{"y":0.30889388989374267,"x":0.20840683729578796},"name":"USEC Helicopter","group":""},{"accessibility":2,"pos":{"y":0.9822614456231276,"x":0.28265463690875436},"name":"Dealership Passage","group":"North"},{"accessibility":2,"pos":{"y":0.07362088849431903,"x":0.052486458108558565},"name":"Railroad Blockage","group":"South"}]}]])

MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.3879736126887703,"x":0.18247025868150665}},{"loot":3,"name":"Medical","pos":{"y":0.6692574990681457,"x":0.7378491581151914}},{"loot":1,"name":"Forklift","pos":{"y":0.05904435825942167,"x":0.8092903336420536}},{"loot":1,"name":"Glass","pos":{"y":0.05101592518075859,"x":0.5454495848344723}},{"loot":2,"name":"Servers","pos":{"y":0.696299363066474,"x":0.2660278387173449}},{"loot":2,"name":"Skybridge","pos":{"y":0.29997701602318727,"x":0.30137688115613076}},{"loot":3,"name":"Boilers","pos":{"y":0.5187049301952024,"x":0.4041688134367119}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.33576728334138506,"x":0.20330572266480962}},{"name":"Servers Key","pos":{"y":0.7114063440034154,"x":0.33123324442450364}},{"name":"Cellars Key","pos":{"y":0.07986017996644468,"x":0.7233791101576093}}],"offset":{"y":0.94368634114037,"x":0.39968840740003},"factor":{"y":-0.00015964260971612,"x":0.00015487593433377},"spawns":[{"type":0,"pos":{"y":0.8795100120344898,"x":0.08126348640979886},"group":"north"},{"type":0,"pos":{"y":0.6268803761140509,"x":0.03761168919322283},"group":"north"},{"type":0,"pos":{"y":0.04681415975520786,"x":0.5025260277976533},"group":"south"},{"type":0,"pos":{"y":0.03148846922246029,"x":0.9287445990841883},"group":"south"},{"type":0,"pos":{"y":0.23440217712193745,"x":0.7805561970077284},"group":"south"},{"type":0,"pos":{"y":0.2736902389631731,"x":0.7598152239814323},"group":"south"},{"type":0,"pos":{"y":0.33822576394091464,"x":0.48680457019097195},"group":"south"},{"type":0,"pos":{"y":0.29713377179008393,"x":0.6115586855686274},"group":"south"},{"type":0,"pos":{"y":0.4299564230738958,"x":0.4777458783042501},"group":"north"},{"type":0,"pos":{"y":0.6291903999996136,"x":0.740415462934324},"group":"south"},{"type":0,"pos":{"y":0.3635450974319899,"x":0.8221899562625545},"group":"south"},{"type":0,"pos":{"y":0.1464311482180667,"x":0.44800969891216624},"group":"north"},{"type":0,"pos":{"y":0.12454732680610203,"x":0.30317437404806},"group":"north"},{"type":0,"pos":{"y":0.46573710248145145,"x":0.46384731346959784},"group":"north"},{"type":0,"pos":{"y":0.664522493807431,"x":0.2008277077154693},"group":"north"},{"type":0,"pos":{"y":0.7620130512834254,"x":0.27950468235702447},"group":"north"},{"type":0,"pos":{"y":0.5454355183872568,"x":0.7394831067847141},"group":"south"},{"type":0,"pos":{"y":0.0774655408207029,"x":0.5942125809232451},"group":"north"},{"type":0,"pos":{"y":0.33848759964698716,"x":0.1594123288216648},"group":"north"},{"type":0,"pos":{"y":0.7742736115046728,"x":0.42899248397513906},"group":"north"},{"type":0,"pos":{"y":0.7138009831491572,"x":0.005684030454919109},"group":"north"},{"type":0,"pos":{"y":0.6627153480399988,"x":0.880423307572052},"group":"south"},{"type":0,"pos":{"y":0.12248475676064874,"x":0.7639566049530571},"group":"south"}],"extracts":[{"accessibility":1,"pos":{"y":0.6700589080869404,"x":0.9126375019134763},"name":"Med Tent Gate","group":"north"},{"accessibility":1,"pos":{"y":0.9783287874487681,"x":0.08621951630847952},"name":"Gate 0","group":"south"},{"accessibility":0,"pos":{"y":0.1259968941744033,"x":0.0200874923479597},"name":"Gate 3","group":""},{"accessibility":2,"pos":{"y":0.6577664271387991,"x":0.17480855074739593},"name":"Bunker Door","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end