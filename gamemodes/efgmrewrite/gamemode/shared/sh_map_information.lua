
MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8727589710353881,"x":0.688872520565392}},{"name":"Kitchen Key","pos":{"y":0.6596116892787338,"x":0.8304224873775808}},{"name":"Fenced Off Area Key","pos":{"y":0.789091119123188,"x":0.5416079983151142}}],"offset":{"y":0.56195347524351,"x":0.59897293612057},"factor":{"y":-0.00013716041297082,"x":0.000069797814009955},"spawns":[{"pos":{"y":0.7660481697440902,"x":0.5565358652025174},"group":"South"},{"pos":{"y":0.4741708109421852,"x":0.004853943267833061},"group":"South"},{"pos":{"y":0.8999167328036105,"x":0.7201419412418519},"group":"North"},{"pos":{"y":0.8209123349324181,"x":0.8262346185369835},"group":"North"},{"pos":{"y":0.5227255971338555,"x":0.493438641337518},"group":"South"},{"pos":{"y":0.40617216326831435,"x":0.5855469779048935},"group":"North"},{"pos":{"y":0.3052330661272713,"x":0.13216515602199091},"group":"South"},{"pos":{"y":0.798966668857087,"x":0.12993162597367236},"group":"South"},{"pos":{"y":0.8024464278644281,"x":0.3784732577460096},"group":"South"},{"pos":{"y":0.3907772798559267,"x":0.21257223776145912},"group":"South"},{"pos":{"y":0.32494028162993305,"x":0.4761287834630492},"group":"North"},{"pos":{"y":0.7835347494542828,"x":0.560827940850274},"group":"North"},{"pos":{"y":0.5575643420284437,"x":0.7955235803726033},"group":"North"},{"pos":{"y":0.1844880187478134,"x":0.8870983123536642},"group":"North"},{"pos":{"y":0.3381076812751318,"x":0.6592782474251712},"group":"North"}],"extracts":[{"accessibility":0,"pos":{"y":0.8824260342626572,"x":0.4568199151729063},"name":"Hermetic Door","group":""},{"accessibility":0,"pos":{"y":0.7447937975079606,"x":0.349780783950325},"name":"Parked Trailer","group":"North"},{"accessibility":0,"pos":{"y":0.09448885422799458,"x":0.5925639544178349},"name":"Dead End","group":"South"},{"accessibility":0,"pos":{"y":0.2883445038084456,"x":0.07369970555202232},"name":"Compartment","group":"North"},{"accessibility":0,"pos":{"y":0.04115950602406715,"x":0.46583988531417425},"name":"Circuit Heap","group":""},{"accessibility":0,"pos":{"y":0.8019649934754434,"x":0.6411567087948846},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.2064474312303618,"x":0.39216675009089896}},{"loot":3,"name":"Hotel","pos":{"y":0.46455249388007935,"x":0.9098417549785771}},{"loot":3,"name":"Big Red","pos":{"y":0.5726593264035214,"x":0.39216675009089896}},{"loot":2,"name":"Residential","pos":{"y":0.444282462781934,"x":0.36982106642668267}},{"loot":3,"name":"Car Dealership","pos":{"y":0.8767097928757017,"x":0.3847181888694935}},{"loot":5,"name":"Storage Building","pos":{"y":0.4743496755775163,"x":0.5888483371016313}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6875228359596783,"x":0.4461688189460884}},{"loot":1,"name":"Electrical","pos":{"y":0.3249749348975807,"x":0.4908307422606749}},{"loot":1,"name":"Fountain","pos":{"y":0.552389295305376,"x":0.6994199004738734}},{"loot":1,"name":"Field","pos":{"y":0.18957347162662616,"x":0.9051293773049075}},{"loot":2,"name":"Crackshot","pos":{"y":0.416514206872364,"x":0.16506826076784203}},{"loot":1,"name":"Railway","pos":{"y":0.3956343881463852,"x":0.02874564482191677}},{"loot":1,"name":"Chemical","pos":{"y":0.09875107590934376,"x":0.17525184056273224}},{"loot":2,"name":"Library","pos":{"y":0.08763633394263062,"x":0.5325013686494153}},{"loot":3,"name":"Watchtower","pos":{"y":0.6859181251644084,"x":0.9401015349405366}},{"loot":2,"name":"Sheds","pos":{"y":0.3682698461638889,"x":0.7254898647487924}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24225781950375191,"x":0.3726410428784786}},{"name":"Workshop Armory Key","pos":{"y":0.16928570755042863,"x":0.46184967071281824}},{"name":"Hotel Marked Room Key","pos":{"y":0.4841468572749532,"x":0.9303893150932396}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5733349941067928,"x":0.4230736306283296}},{"name":"Storage Building Access Keycard","pos":{"y":0.49073630820068803,"x":0.6109682359696837}},{"name":"Old Warehouse Admin Key","pos":{"y":0.704583445467284,"x":0.5411379745190078}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6108869257828413,"x":0.6314705183655875}},{"name":"Hotel Maintenance Key","pos":{"y":0.4753631771324236,"x":0.9736200604368611}},{"name":"Railway Checkpoint Key","pos":{"y":0.6179290625227126,"x":0.16219242238000597}}],"offset":{"y":0.33077028863232,"x":0.55789723726717},"factor":{"y":-0.000084458462908939,"x":0.00011638376908446},"spawns":[{"type":0,"pos":{"y":0.09631359559710534,"x":0.08491359970792456},"group":"North"},{"type":0,"pos":{"y":0.10509727573963498,"x":0.4554795204728452},"group":"North"},{"type":0,"pos":{"y":0.7189794069659062,"x":0.6390885336160158},"group":"South"},{"type":0,"pos":{"y":0.7701958354156668,"x":0.3829573018749655},"group":"South"},{"type":0,"pos":{"y":0.3369400131126454,"x":0.5286218303574995},"group":"North"},{"type":0,"pos":{"y":0.22198778840560657,"x":0.46292808169425065},"group":"North"},{"type":0,"pos":{"y":0.37661848068149567,"x":0.7213000490617518},"group":"North"},{"type":0,"pos":{"y":0.3492072336948142,"x":0.40623289071760643},"group":"North"},{"type":0,"pos":{"y":0.19918823046728687,"x":0.7846314448247125},"group":"North"},{"type":0,"pos":{"y":0.9010338301934762,"x":0.4554795204728452},"group":"South"},{"type":0,"pos":{"y":0.18752873553875946,"x":0.6435556913133326},"group":"North"},{"type":0,"pos":{"y":0.7091442024643667,"x":0.08118931909722182},"group":"South"},{"type":0,"pos":{"y":0.9794112837729716,"x":0.7143170229166842},"group":"South"},{"type":0,"pos":{"y":0.28552082171943716,"x":0.14912950927452645},"group":"North"},{"type":0,"pos":{"y":0.13617799009012455,"x":0.3958910307016017},"group":"North"},{"type":0,"pos":{"y":0.716556257374303,"x":0.7915958455887657},"group":"North"},{"type":2,"pos":{"y":0.8868448084247744,"x":0.1742963343647898},"group":"South"},{"type":2,"pos":{"y":0.7028512221879739,"x":0.9706534392994585},"group":"South"},{"type":2,"pos":{"y":0.589339027418618,"x":0.6913323934967545},"group":"South"},{"type":2,"pos":{"y":0.614550724006355,"x":0.34188896184641226},"group":"South"},{"type":2,"pos":{"y":0.4875251957913108,"x":0.19012452696027637},"group":"North"},{"type":2,"pos":{"y":0.2780682077771421,"x":0.2413333853574388},"group":"North"},{"type":2,"pos":{"y":0.36725634460898166,"x":0.34561324245711494},"group":"North"},{"type":2,"pos":{"y":0.3929317173332991,"x":0.9489467013909556},"group":"North"}],"extracts":{"1":{"accessibility":1,"pos":{"y":0.7354952428919557,"x":0.029689501277348262},"name":"Railway to Belmont","group":"South"},"2":{"accessibility":1,"pos":{"y":0.75185399762405,"x":0.19497073460279063},"name":"Sewer Manhole","group":"North"},"3":{"accessibility":0,"pos":{"y":0.16372242901101167,"x":0.677280218354057},"name":"Getaway Driver","group":""},"4":{"accessibility":1,"pos":{"y":0.3089422530318239,"x":0.2055721423577363},"name":"USEC Helicopter","group":""},"7":{"accessibility":2,"pos":{"y":0.9888706316187728,"x":0.28230047207516873},"name":"Dealership Passage","group":"North"},"8":{"accessibility":2,"pos":{"y":0.06725988435643032,"x":0.051395074211600056},"name":"Railroad Blockage","group":"South"}}}]])

MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.387908032768015,"x":0.18180952035956693}},{"loot":3,"name":"Medical","pos":{"y":0.6693345929101648,"x":0.7382662595174274}},{"loot":1,"name":"Forklift","pos":{"y":0.05881193773140636,"x":0.8098460829781655}},{"loot":1,"name":"Glass","pos":{"y":0.05077943244380423,"x":0.5454932908786781}},{"loot":2,"name":"Servers","pos":{"y":0.6963901731740736,"x":0.2655292629822634}},{"loot":2,"name":"Skybridge","pos":{"y":0.2998668021714975,"x":0.30094690831934257}},{"loot":3,"name":"Boilers","pos":{"y":0.5187056602548061,"x":0.4039383318446393}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.3356752231499519,"x":0.20268542032409956}},{"name":"Servers Key","pos":{"y":0.7115048167249037,"x":0.3308612146863511}},{"name":"Cellars Key","pos":{"y":0.07963831770981267,"x":0.7246991881626157}}],"offset":{"y":0.94390263170644,"x":0.39944923055574},"factor":{"y":-0.00015972358417975,"x":0.00015517650649183},"spawns":[{"pos":{"y":0.8796937508661804,"x":0.08040633320853752},"group":"north"},{"pos":{"y":0.6269359752886534,"x":0.036669819699859496},"group":"north"},{"pos":{"y":0.046575535784604494,"x":0.5024864308663152},"group":"south"},{"pos":{"y":0.031242071703348473,"x":0.9295321767318313},"group":"south"},{"pos":{"y":0.23425870217900713,"x":0.7810561811825496},"group":"south"},{"pos":{"y":0.2735666918436499,"x":0.7602749555563282},"group":"south"},{"pos":{"y":0.3381349507483138,"x":0.4867344621769339},"group":"south"},{"pos":{"y":0.2970221157784525,"x":0.6117306914365634},"group":"south"},{"pos":{"y":0.42991213781600446,"x":0.4776581898276223},"group":"north"},{"pos":{"y":0.6292471708723324,"x":0.740837544837766},"group":"south"},{"pos":{"y":0.3634671267972285,"x":0.8227707402654523},"group":"south"},{"pos":{"y":0.14624305231276846,"x":0.447864300581191},"group":"north"},{"pos":{"y":0.1243481309150033,"x":0.30274788965716853},"group":"north"},{"pos":{"y":0.4657109660206043,"x":0.4637326516504411},"group":"north"},{"pos":{"y":0.6645971859440913,"x":0.18935264806704144},"group":"north"},{"pos":{"y":0.7621371929098845,"x":0.2790322615180799},"group":"north"},{"pos":{"y":0.5454498068260754,"x":0.7399033792378941},"group":"south"},{"pos":{"y":0.07724246394711642,"x":0.5943509227094785},"group":"north"},{"pos":{"y":0.3383969192635774,"x":0.1587068413153655},"group":"north"}],"extracts":[{"accessibility":0,"pos":{"y":0.6599140990348444,"x":0.8898069910699229},"name":"Med Tent Gate","group":"north"},{"accessibility":0,"pos":{"y":0.9563610712724605,"x":0.08537198141627605},"name":"Gate 0","group":"south"},{"accessibility":0,"pos":{"y":0.12324285619088449,"x":0.045646795754367586},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end