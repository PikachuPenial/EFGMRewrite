
MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8727589710353881,"x":0.688872520565392}},{"name":"Kitchen Key","pos":{"y":0.6596116892787338,"x":0.8304224873775808}},{"name":"Fenced Off Area Key","pos":{"y":0.789091119123188,"x":0.5416079983151142}}],"offset":{"y":0.56195347524351,"x":0.59897293612057},"factor":{"y":-0.00013716041297082,"x":0.000069797814009955},"spawns":[{"pos":{"y":0.7660481697440902,"x":0.5565358652025174},"group":"South"},{"pos":{"y":0.4741708109421852,"x":0.004853943267833061},"group":"South"},{"pos":{"y":0.8999167328036105,"x":0.7201419412418519},"group":"North"},{"pos":{"y":0.8209123349324181,"x":0.8262346185369835},"group":"North"},{"pos":{"y":0.5227255971338555,"x":0.493438641337518},"group":"South"},{"pos":{"y":0.40617216326831435,"x":0.5855469779048935},"group":"North"},{"pos":{"y":0.3052330661272713,"x":0.13216515602199091},"group":"South"},{"pos":{"y":0.798966668857087,"x":0.12993162597367236},"group":"South"},{"pos":{"y":0.8024464278644281,"x":0.3784732577460096},"group":"South"},{"pos":{"y":0.3907772798559267,"x":0.21257223776145912},"group":"South"},{"pos":{"y":0.32494028162993305,"x":0.4761287834630492},"group":"North"},{"pos":{"y":0.7835347494542828,"x":0.560827940850274},"group":"North"},{"pos":{"y":0.5575643420284437,"x":0.7955235803726033},"group":"North"},{"pos":{"y":0.1844880187478134,"x":0.8870983123536642},"group":"North"},{"pos":{"y":0.3381076812751318,"x":0.6592782474251712},"group":"North"}],"extracts":[{"accessibility":0,"pos":{"y":0.8824260342626572,"x":0.4568199151729063},"name":"Hermetic Door","group":""},{"accessibility":0,"pos":{"y":0.7447937975079606,"x":0.349780783950325},"name":"Parked Trailer","group":"North"},{"accessibility":0,"pos":{"y":0.09448885422799458,"x":0.5925639544178349},"name":"Dead End","group":"South"},{"accessibility":0,"pos":{"y":0.2883445038084456,"x":0.07369970555202232},"name":"Compartment","group":"North"},{"accessibility":0,"pos":{"y":0.04115950602406715,"x":0.46583988531417425},"name":"Circuit Heap","group":""},{"accessibility":0,"pos":{"y":0.8019649934754434,"x":0.6411567087948846},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.2061446193865135,"x":0.3921220920755627}},{"loot":3,"name":"Hotel","pos":{"y":0.46420739546666234,"x":0.9089173074187092}},{"loot":2,"name":"Residential","pos":{"y":0.4439406853032999,"x":0.3698143849384484}},{"loot":5,"name":"Storage Building","pos":{"y":0.4740029720456209,"x":0.5884694183972138}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6871412072636496,"x":0.44603238432358877}},{"loot":1,"name":"Electrical","pos":{"y":0.3246527041338625,"x":0.4906184046241223}},{"loot":1,"name":"Fountain","pos":{"y":0.5520298061745664,"x":0.6988530652108835}},{"loot":1,"name":"Field","pos":{"y":0.18927342432315283,"x":0.9042129384388495}},{"loot":2,"name":"Crackshot","pos":{"y":0.4161769787980433,"x":0.1654095570184041}},{"loot":1,"name":"Railway","pos":{"y":0.39530058091122994,"x":0.029318621588362404}},{"loot":1,"name":"Chemical","pos":{"y":0.09846590846725506,"x":0.17557582980224523}},{"loot":2,"name":"Library","pos":{"y":0.08735298748113249,"x":0.532218211712984}},{"loot":3,"name":"Watchtower","pos":{"y":0.6855367593757168,"x":0.9391256608335514}},{"loot":2,"name":"Sheds","pos":{"y":0.3679405221906906,"x":0.7248787235375168}},{"loot":2,"name":"Auto Shop","pos":{"y":0.8789993968101478,"x":0.421865701591715}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24194914067512052,"x":0.3726295688355051}},{"name":"Workshop Armory Key","pos":{"y":0.1689889840870156,"x":0.46168658645627514}},{"name":"Hotel Marked Room Key","pos":{"y":0.48379854862457944,"x":0.9294299469202771}},{"name":"Storage Building Access Keycard","pos":{"y":0.49038691996949496,"x":0.6105517244598063}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7041990216511465,"x":0.5408401396563243}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6105178527093715,"x":0.6310191631921748}},{"name":"Hotel Maintenance Key","pos":{"y":0.47501630755378904,"x":0.9725872215392228}},{"name":"Railway Checkpoint Key","pos":{"y":0.6175588357027718,"x":0.162538606122762}},{"name":"Big Red Meeting Room Key","pos":{"y":0.589523219976787,"x":0.298011452590862}}],"offset":{"y":0.33044710838847,"x":0.55757092000916},"factor":{"y":-0.000084444625680677,"x":0.00011618597467247},"spawns":[{"type":0,"pos":{"y":0.0960288274989107,"x":0.08539111894024193},"group":"North"},{"type":0,"pos":{"y":0.1048110685697011,"x":0.4553272622973864},"group":"North"},{"type":0,"pos":{"y":0.7185926245915087,"x":0.6386242316128273},"group":"South"},{"type":0,"pos":{"y":0.7698006620122735,"x":0.3829282953324158},"group":"South"},{"type":0,"pos":{"y":0.336615822053739,"x":0.5283452667029431},"group":"North"},{"type":0,"pos":{"y":0.22168243051175807,"x":0.4627631646764245},"group":"North"},{"type":0,"pos":{"y":0.3762877889121344,"x":0.7206960284493078},"group":"North"},{"type":0,"pos":{"y":0.34888103283931093,"x":0.40616432727253443},"group":"North"},{"type":0,"pos":{"y":0.19888660793253204,"x":0.7839197923982795},"group":"North"},{"type":0,"pos":{"y":0.9006172209844011,"x":0.4553272622973864},"group":"South"},{"type":0,"pos":{"y":0.18722902323404184,"x":0.6430837973680978},"group":"North"},{"type":0,"pos":{"y":0.708759031437903,"x":0.08167316775072286},"group":"South"},{"type":0,"pos":{"y":0.9789818336160694,"x":0.7137248699689597},"group":"South"},{"type":0,"pos":{"y":0.28520505490913595,"x":0.14949789346015263},"group":"North"},{"type":0,"pos":{"y":0.13588669082019023,"x":0.3958400432650817},"group":"North"},{"type":0,"pos":{"y":0.71616987199593,"x":0.7908723571514797},"group":"North"},{"type":2,"pos":{"y":0.8864305238700474,"x":0.17462194748869886},"group":"South"},{"type":2,"pos":{"y":0.7024670821701449,"x":0.9696256421794502},"group":"South"},{"type":2,"pos":{"y":0.5889734846389513,"x":0.6907793029655223},"group":"South"},{"type":2,"pos":{"y":0.6141810506755447,"x":0.3419297510170557},"group":"South"},{"type":2,"pos":{"y":0.4871763336518065,"x":0.19042324004415478},"group":"North"},{"type":2,"pos":{"y":0.2777536619637276,"x":0.24154506890004157},"group":"North"},{"type":2,"pos":{"y":0.3669271866825225,"x":0.3456477022065747},"group":"North"},{"type":2,"pos":{"y":0.3925983528894483,"x":0.9479557949086592},"group":"North"}],"extracts":[{"accessibility":1,"pos":{"y":0.7276746275903746,"x":0.029621851097456298},"name":"Railway to Belmont","group":"South"},{"accessibility":1,"pos":{"y":0.7519946797864097,"x":0.19321170343629407},"name":"Sewer Manhole","group":"North"},{"accessibility":0,"pos":{"y":0.15682895798899812,"x":0.6700389434921109},"name":"Getaway Driver","group":""},{"accessibility":1,"pos":{"y":0.30882928421421674,"x":0.20808350819437021},"name":"USEC Helicopter","group":""},{"accessibility":2,"pos":{"y":0.981684061637851,"x":0.282442531984751},"name":"Dealership Passage","group":"North"},{"accessibility":2,"pos":{"y":0.07373544631921197,"x":0.05192955823457057},"name":"Railroad Blockage","group":"South"}]}]])

MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.387908032768015,"x":0.18180952035956693}},{"loot":3,"name":"Medical","pos":{"y":0.6693345929101648,"x":0.7382662595174274}},{"loot":1,"name":"Forklift","pos":{"y":0.05881193773140636,"x":0.8098460829781655}},{"loot":1,"name":"Glass","pos":{"y":0.05077943244380423,"x":0.5454932908786781}},{"loot":2,"name":"Servers","pos":{"y":0.6963901731740736,"x":0.2655292629822634}},{"loot":2,"name":"Skybridge","pos":{"y":0.2998668021714975,"x":0.30094690831934257}},{"loot":3,"name":"Boilers","pos":{"y":0.5187056602548061,"x":0.4039383318446393}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.3356752231499519,"x":0.20268542032409956}},{"name":"Servers Key","pos":{"y":0.7115048167249037,"x":0.3308612146863511}},{"name":"Cellars Key","pos":{"y":0.07963831770981267,"x":0.7246991881626157}}],"offset":{"y":0.94390263170644,"x":0.39944923055574},"factor":{"y":-0.00015972358417975,"x":0.00015517650649183},"spawns":[{"pos":{"y":0.8796937508661804,"x":0.08040633320853752},"group":"north"},{"pos":{"y":0.6269359752886534,"x":0.036669819699859496},"group":"north"},{"pos":{"y":0.046575535784604494,"x":0.5024864308663152},"group":"south"},{"pos":{"y":0.031242071703348473,"x":0.9295321767318313},"group":"south"},{"pos":{"y":0.23425870217900713,"x":0.7810561811825496},"group":"south"},{"pos":{"y":0.2735666918436499,"x":0.7602749555563282},"group":"south"},{"pos":{"y":0.3381349507483138,"x":0.4867344621769339},"group":"south"},{"pos":{"y":0.2970221157784525,"x":0.6117306914365634},"group":"south"},{"pos":{"y":0.42991213781600446,"x":0.4776581898276223},"group":"north"},{"pos":{"y":0.6292471708723324,"x":0.740837544837766},"group":"south"},{"pos":{"y":0.3634671267972285,"x":0.8227707402654523},"group":"south"},{"pos":{"y":0.14624305231276846,"x":0.447864300581191},"group":"north"},{"pos":{"y":0.1243481309150033,"x":0.30274788965716853},"group":"north"},{"pos":{"y":0.4657109660206043,"x":0.4637326516504411},"group":"north"},{"pos":{"y":0.6645971859440913,"x":0.18935264806704144},"group":"north"},{"pos":{"y":0.7621371929098845,"x":0.2790322615180799},"group":"north"},{"pos":{"y":0.5454498068260754,"x":0.7399033792378941},"group":"south"},{"pos":{"y":0.07724246394711642,"x":0.5943509227094785},"group":"north"},{"pos":{"y":0.3383969192635774,"x":0.1587068413153655},"group":"north"}],"extracts":[{"accessibility":0,"pos":{"y":0.6599140990348444,"x":0.8898069910699229},"name":"Med Tent Gate","group":"north"},{"accessibility":0,"pos":{"y":0.9563610712724605,"x":0.08537198141627605},"name":"Gate 0","group":"south"},{"accessibility":0,"pos":{"y":0.12324285619088449,"x":0.045646795754367586},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end