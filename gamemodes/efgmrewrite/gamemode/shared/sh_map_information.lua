
MAPINFO = {}

MAPINFO.efgm_belmont_rw = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8721663117382856,"x":0.6876119574160273}},{"name":"Kitchen Key","pos":{"y":0.6592522119570738,"x":0.8289321603290871}},{"name":"Fenced Off Area Key","pos":{"y":0.788589992004348,"x":0.540586474930983}}],"offset":{"y":0.56170083548074,"x":0.59785829797223},"factor":{"y":-0.00013701036021957,"x":0.000069684518201706},"spawns":[{"pos":{"y":0.7655722514874602,"x":0.5554901109055927},"group":"South"},{"pos":{"y":0.4740142049402152,"x":0.0047036790393085726},"group":"South"},{"pos":{"y":0.8992943630617605,"x":0.7188306215703916},"group":"North"},{"pos":{"y":0.8203763955752882,"x":0.8247510892369847},"group":"North"},{"pos":{"y":0.522515872457943,"x":0.4924953064512505},"group":"South"},{"pos":{"y":0.40608994741976934,"x":0.5844541327712652},"group":"North"},{"pos":{"y":0.3052612771060203,"x":0.13180824023922028},"group":"South"},{"pos":{"y":0.798454737940157,"x":0.1295783356567657},"group":"South"},{"pos":{"y":0.8019306901099316,"x":0.37771653466470206},"group":"South"},{"pos":{"y":0.3907119059267167,"x":0.2120848052075856},"group":"South"},{"pos":{"y":0.32494693302132305,"x":0.4752135459372274},"group":"North"},{"pos":{"y":0.7830397009738613,"x":0.5597752196563701},"group":"North"},{"pos":{"y":0.5573165039537138,"x":0.7940899012282341},"group":"North"},{"pos":{"y":0.18464832415648336,"x":0.8855159891088724},"group":"North"},{"pos":{"y":0.33809992760240176,"x":0.658065721698504},"group":"North"}],"extracts":[{"pos":{"y":0.8818227992505774,"x":0.4559360198011382},"name":"Hermetic Door","group":""},{"pos":{"y":0.7443411314198028,"x":0.3490706344910636},"name":"Parked Trailer","group":"North"},{"pos":{"y":0.0947476182367365,"x":0.5914597193282778},"name":"Dead End","group":"South"},{"pos":{"y":0.28839119078318876,"x":0.07343769088556307},"name":"Compartment","group":"North"},{"pos":{"y":0.04147661205181463,"x":0.4649413487273189},"name":"Circuit Heap","group":""},{"pos":{"y":0.801449782407569,"x":0.6399735979488259},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete_rw = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.2073403949032377,"x":0.3867999711252302}},{"loot":3,"name":"Hotel","pos":{"y":0.465301744626243,"x":0.8981405850465938}},{"loot":3,"name":"Big Red","pos":{"y":0.5733483832536799,"x":0.3867999711252302}},{"loot":2,"name":"Residential","pos":{"y":0.44504299988359863,"x":0.3647277144092001}},{"loot":3,"name":"Car Dealership","pos":{"y":0.8772295543933458,"x":0.3794425522198868}},{"loot":5,"name":"Storage Building","pos":{"y":0.47509347125185447,"x":0.5810749167948928}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6881479367953314,"x":0.44014125818896954}},{"loot":1,"name":"Electrical","pos":{"y":0.32580190244363505,"x":0.4842566878909399}},{"loot":1,"name":"Fountain","pos":{"y":0.5530896385110354,"x":0.6902935009706438}},{"loot":4,"name":"Field","pos":{"y":0.19047583072202875,"x":0.8934858691149131}},{"loot":2,"name":"Crackshot","pos":{"y":0.4172902053419131,"x":0.1624803113876267}},{"loot":1,"name":"Railway","pos":{"y":0.3964220125012521,"x":0.02782577046715029}},{"loot":1,"name":"Chemical","pos":{"y":0.0997040049244742,"x":0.17253928254727585}},{"loot":2,"name":"Library","pos":{"y":0.08859545164728652,"x":0.5254174228673747}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.2431308439485761,"x":0.3675131849775889}},{"name":"Workshop Armory Key","pos":{"y":0.17019936287505627,"x":0.4556302354304906}},{"name":"Hotel Marked Room Key","pos":{"y":0.4848851978774659,"x":0.9184367204682709}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5740236747451013,"x":0.41732866793150747}},{"name":"Storage Building Access Keycard","pos":{"y":0.4914709797962148,"x":0.6029241514696914}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7051990469537237,"x":0.5339483492320973}}],"offset":{"y":0.33159402932479,"x":0.55050254176912},"factor":{"y":-0.000084411436427685,"x":0.00011495967039599},"spawns":[{"pos":{"y":0.09726788180153645,"x":0.08330644127981657},"group":"North"},{"pos":{"y":0.10604667119001568,"x":0.44933803182064874},"group":"North"},{"pos":{"y":0.7195869927794314,"x":0.6307003626569532},"group":"South"},{"pos":{"y":0.770774903916309,"x":0.37770321184546896},"group":"South"},{"pos":{"y":0.3377603185018595,"x":0.5215853555023489},"group":"North"},{"pos":{"y":0.2228720992059317,"x":0.4566954507259921},"group":"North"},{"pos":{"y":0.3774166930956893,"x":0.7119059190050899},"group":"North"},{"pos":{"y":0.35002070869428553,"x":0.40069399520531},"group":"North"},{"pos":{"y":0.2000852360639303,"x":0.7744623771770575},"group":"North"},{"pos":{"y":0.901540048084519,"x":0.44933803182064874},"group":"South"},{"pos":{"y":0.5746989662365227,"x":0.7491528522133907},"group":"North"},{"pos":{"y":0.18843223314343624,"x":0.6351128591805686},"group":"North"},{"pos":{"y":0.7097572645208188,"x":0.07962773182714489},"group":"South"},{"pos":{"y":0.9798738610894108,"x":0.7050083387813305},"group":"South"},{"pos":{"y":0.28636975731996306,"x":0.14673659014016105},"group":"North"},{"pos":{"y":0.13711007979540377,"x":0.39047868057790186},"group":"North"}],"extracts":[{"pos":{"y":0.7360936326862565,"x":0.02875807767691929},"name":"Railway to Belmont","group":"South"},{"pos":{"y":0.7524432788619522,"x":0.19201689164389724},"name":"Sewer Manhole","group":"North"},{"pos":{"y":0.16463918196972988,"x":0.6684247251165207},"name":"Getaway Driver","group":""},{"pos":{"y":0.3097781475768697,"x":0.20248857812414522},"name":"USEC Helicopter","group":""}]}]])

MAPINFO.efgm_factory_rw = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.38816656961087537,"x":0.1811112070825499}},{"loot":3,"name":"Medical","pos":{"y":0.6707277451147484,"x":0.7377547492655869}},{"loot":1,"name":"Forklift","pos":{"y":0.05774367199840791,"x":0.8093586021371006}},{"loot":1,"name":"Glass","pos":{"y":0.04967878240462009,"x":0.5449170665687988}},{"loot":2,"name":"Servers","pos":{"y":0.6978924041982693,"x":0.26485905449774577}},{"loot":2,"name":"Skybridge","pos":{"y":0.2997703869705658,"x":0.30028858957005145}},{"loot":3,"name":"Boilers","pos":{"y":0.5194915282683581,"x":0.4033145874083682}}],"keys":[],"offset":{"y":0.94640274806714,"x":0.39882397912415},"factor":{"y":-0.00016036753488628,"x":0.00015522859938389},"spawns":[{"pos":{"y":0.8819349990428554,"x":0.07967397879087218},"group":"north"},{"pos":{"y":0.6281581908096315,"x":0.0359227828954799},"group":"north"},{"pos":{"y":0.04545793707601886,"x":0.501895769115053},"group":"south"},{"pos":{"y":0.03006265372693606,"x":0.9290848746195183},"group":"south"},{"pos":{"y":0.23389777762235808,"x":0.7805590355456946},"group":"south"},{"pos":{"y":0.27336424361876366,"x":0.7597708336434383},"group":"south"},{"pos":{"y":0.33819281959654235,"x":0.48613851247569},"group":"south"},{"pos":{"y":0.29691423177770593,"x":0.6111767030813116},"group":"south"},{"pos":{"y":0.43034002080309086,"x":0.47705919321363055},"group":"north"},{"pos":{"y":0.6304787043411684,"x":0.7403268977687081},"group":"south"},{"pos":{"y":0.3636271262903984,"x":0.8222875982434019},"group":"south"},{"pos":{"y":0.14552727884505767,"x":0.4472553021319237},"group":"north"},{"pos":{"y":0.12354408463413269,"x":0.3020901754989238},"group":"north"},{"pos":{"y":0.46628317760408233,"x":0.4631289802208246},"group":"north"},{"pos":{"y":0.6659712385487092,"x":0.18865686702474435},"group":"north"},{"pos":{"y":0.7639044933665533,"x":0.2783665860022514},"group":"north"},{"pos":{"y":0.5463434980654117,"x":0.7393924185686085},"group":"south"},{"pos":{"y":0.07624850377418468,"x":0.5937910999503159},"group":"north"},{"pos":{"y":0.33845584427900477,"x":0.15800077244832422},"group":"north"}],"extracts":[{"pos":{"y":0.6612692710393342,"x":0.8893463531772424},"name":"Med Tent Gate","group":"north"},{"pos":{"y":0.9589114157882698,"x":0.08464129397115666},"name":"Gate 0","group":"south"},{"pos":{"y":0.1224343538214333,"x":0.04490277252888081},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont_rw"] = "Belmont"
MAPNAMES["efgm_concrete_rw"] = "Concrete"
MAPNAMES["efgm_factory_rw"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end