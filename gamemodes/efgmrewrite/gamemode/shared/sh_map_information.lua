
MAPINFO = {}

MAPINFO.efgm_belmont = util.JSONToTable([[{"locations":[],"keys":[{"name":"Parking Garage Break Room Key","pos":{"y":0.8721663117382856,"x":0.6876119574160273}},{"name":"Kitchen Key","pos":{"y":0.6592522119570738,"x":0.8289321603290871}},{"name":"Fenced Off Area Key","pos":{"y":0.788589992004348,"x":0.540586474930983}}],"offset":{"y":0.56170083548074,"x":0.59785829797223},"factor":{"y":-0.00013701036021957,"x":0.000069684518201706},"spawns":[{"pos":{"y":0.7655722514874602,"x":0.5554901109055927},"group":"South"},{"pos":{"y":0.4740142049402152,"x":0.0047036790393085726},"group":"South"},{"pos":{"y":0.8992943630617605,"x":0.7188306215703916},"group":"North"},{"pos":{"y":0.8203763955752882,"x":0.8247510892369847},"group":"North"},{"pos":{"y":0.522515872457943,"x":0.4924953064512505},"group":"South"},{"pos":{"y":0.40608994741976934,"x":0.5844541327712652},"group":"North"},{"pos":{"y":0.3052612771060203,"x":0.13180824023922028},"group":"South"},{"pos":{"y":0.798454737940157,"x":0.1295783356567657},"group":"South"},{"pos":{"y":0.8019306901099316,"x":0.37771653466470206},"group":"South"},{"pos":{"y":0.3907119059267167,"x":0.2120848052075856},"group":"South"},{"pos":{"y":0.32494693302132305,"x":0.4752135459372274},"group":"North"},{"pos":{"y":0.7830397009738613,"x":0.5597752196563701},"group":"North"},{"pos":{"y":0.5573165039537138,"x":0.7940899012282341},"group":"North"},{"pos":{"y":0.18464832415648336,"x":0.8855159891088724},"group":"North"},{"pos":{"y":0.33809992760240176,"x":0.658065721698504},"group":"North"}],"extracts":[{"pos":{"y":0.8818227992505774,"x":0.4559360198011382},"name":"Hermetic Door","group":""},{"pos":{"y":0.7443411314198028,"x":0.3490706344910636},"name":"Parked Trailer","group":"North"},{"pos":{"y":0.0947476182367365,"x":0.5914597193282778},"name":"Dead End","group":"South"},{"pos":{"y":0.28839119078318876,"x":0.07343769088556307},"name":"Compartment","group":"North"},{"pos":{"y":0.04147661205181463,"x":0.4649413487273189},"name":"Circuit Heap","group":""},{"pos":{"y":0.801449782407569,"x":0.6399735979488259},"name":"Escalator","group":"South"}]}]])

MAPINFO.efgm_concrete = util.JSONToTable([[{"locations":[{"loot":4,"name":"Workshop","pos":{"y":0.2066901466791911,"x":0.3923963451478676}},{"loot":3,"name":"Hotel","pos":{"y":0.46466906534897134,"x":0.9095313609813523}},{"loot":3,"name":"Big Red","pos":{"y":0.5727230626975703,"x":0.3923963451478676}},{"loot":2,"name":"Residential","pos":{"y":0.44440894084610905,"x":0.3700739703636884}},{"loot":3,"name":"Car Dealership","pos":{"y":0.8766249302405051,"x":0.38495555355314115}},{"loot":5,"name":"Storage Building","pos":{"y":0.4744614588586881,"x":0.5888727727378351}},{"loot":3,"name":"Old Warehouse","pos":{"y":0.6875304348804568,"x":0.44634208420963395}},{"loot":1,"name":"Electrical","pos":{"y":0.32515972226514295,"x":0.4909574204773254}},{"loot":1,"name":"Fountain","pos":{"y":0.552462938194708,"x":0.6993289984303315}},{"loot":1,"name":"Field","pos":{"y":0.18982443390486622,"x":0.904823898809376}},{"loot":2,"name":"Crackshot","pos":{"y":0.4166542561477365,"x":0.1655347432489676}},{"loot":1,"name":"Railway","pos":{"y":0.39578464203923946,"x":0.029354326017978827}},{"loot":1,"name":"Chemical","pos":{"y":0.09904642592002738,"x":0.1757077005073826}},{"loot":2,"name":"Library","pos":{"y":0.08793711607375879,"x":0.5325845800540335}},{"loot":3,"name":"Watchtower","pos":{"y":0.6859265083573136,"x":0.9397595768349283}},{"loot":2,"name":"Sheds","pos":{"y":0.3684334739603753,"x":0.725371769011874}}],"keys":[{"name":"Workshop Office Key","pos":{"y":0.24248303330091456,"x":0.3728910052857549}},{"name":"Workshop Armory Key","pos":{"y":0.1695465850906102,"x":0.4620065792115316}},{"name":"Hotel Marked Room Key","pos":{"y":0.4842538523684049,"x":0.9300574878464906}},{"name":"Big Red Meeting Room Key","pos":{"y":0.5733984001809991,"x":0.4232709865834836}},{"name":"Storage Building Access Keycard","pos":{"y":0.4908400828243169,"x":0.6109695982429555}},{"name":"Old Warehouse Admin Key","pos":{"y":0.7045827063370327,"x":0.5412121770423955}},{"name":"Suspicious Keycard With Brown Marking","pos":{"y":0.6109319790588991,"x":0.6314504946187208}},{"name":"Hotel Maintenance Key","pos":{"y":0.47547446508383123,"x":0.9732431390111971}},{"name":"Railway Checkpoint Key","pos":{"y":0.6179706740872962,"x":0.16266190466068997}}],"offset":{"y":0.33095224363008,"x":0.55795395813053},"factor":{"y":-0.000084417185428593,"x":0.0001162623686676},"spawns":[{"pos":{"y":0.09661013688030584,"x":0.08546369186540359},"group":"North"},{"pos":{"y":0.10538952416487954,"x":0.45564307370304197},"group":"North"},{"pos":{"y":0.7189716320810678,"x":0.6390605634842337},"group":"South"},{"pos":{"y":0.7701630294676773,"x":0.383196503347513},"group":"South"},{"pos":{"y":0.3371189527739642,"x":0.5287090885254213},"group":"North"},{"pos":{"y":0.22222290879805223,"x":0.46308386529776835},"group":"North"},{"pos":{"y":0.37677802824036766,"x":0.7211863237398404},"group":"North"},{"pos":{"y":0.34938017798350796,"x":0.40644781332197166},"group":"North"},{"pos":{"y":0.19943449371353644,"x":0.7844516582478129},"group":"North"},{"pos":{"y":0.90093707964394,"x":0.45564307370304197},"group":"South"},{"pos":{"y":0.1877806971431863,"x":0.6435230614698836},"group":"North"},{"pos":{"y":0.7091412343501766,"x":0.08174329606804037},"group":"South"},{"pos":{"y":0.9792762277216742,"x":0.7142105816197843},"group":"South"},{"pos":{"y":0.2857248915404705,"x":0.14961261753681326},"group":"North"},{"pos":{"y":0.13645504840260175,"x":0.39611674094523075},"group":"North"},{"pos":{"y":0.7165496667581122,"x":0.7914087944150707},"group":"North"}],"extracts":[{"pos":{"y":0.7354793962038977,"x":0.030297197932627418},"name":"Railway to Belmont","group":"South"},{"pos":{"y":0.7518301559032424,"x":0.19540602568311122},"name":"Sewer Manhole","group":"North"},{"pos":{"y":0.16398602549862207,"x":0.6772124103094433},"name":"Getaway Driver","group":""},{"pos":{"y":0.30913487607017404,"x":0.20599637506341512},"name":"USEC Helicopter","group":""}]}]])

MAPINFO.efgm_factory = util.JSONToTable([[{"locations":[{"loot":4,"name":"Offices","pos":{"y":0.388519555843605,"x":0.18230997334571422}},{"loot":3,"name":"Medical","pos":{"y":0.669836505849379,"x":0.7376390326949769}},{"loot":1,"name":"Forklift","pos":{"y":0.05955163729410351,"x":0.8090737970416106}},{"loot":1,"name":"Glass","pos":{"y":0.051522260510078244,"x":0.5452567254842955}},{"loot":2,"name":"Servers","pos":{"y":0.696881548494376,"x":0.2658600548668496}},{"loot":2,"name":"Skybridge","pos":{"y":0.300512615583037,"x":0.30120592505825405}},{"loot":3,"name":"Boilers","pos":{"y":0.5192662402147952,"x":0.4039886327201326}}],"keys":[{"name":"Office Marked Room Key","pos":{"y":0.33630708988245417,"x":0.20314356754014878}},{"name":"Servers Key","pos":{"y":0.7119903051874054,"x":0.3310596089960522}},{"name":"Cellars Key","pos":{"y":0.08036990580517545,"x":0.7240994555034164}}],"offset":{"y":0.94429760576909,"x":0.39950862875817},"factor":{"y":-0.00015966137497023,"x":0.0001548620356609},"spawns":[{"pos":{"y":0.8801137330310576,"x":0.08111228343935956},"group":"north"},{"pos":{"y":0.6274544016594971,"x":0.03746440356508923},"group":"north"},{"pos":{"y":0.047320001186337834,"x":0.5023370204370076},"group":"south"},{"pos":{"y":0.03199250918919572,"x":0.9285173425758044},"group":"south"},{"pos":{"y":0.23493006866124433,"x":0.7803422390284701},"group":"south"},{"pos":{"y":0.27422274863334906,"x":0.7596031273113589},"group":"south"},{"pos":{"y":0.33876585946506454,"x":0.4866169736847451},"group":"south"},{"pos":{"y":0.29766903713965853,"x":0.6113598935422813},"group":"south"},{"pos":{"y":0.4305073011148899,"x":0.4775590947312636},"group":"north"},{"pos":{"y":0.6297646970777369,"x":0.74020510721215},"group":"south"},{"pos":{"y":0.36408816912727415,"x":0.8219722620411052},"group":"south"},{"pos":{"y":0.14694869916776143,"x":0.4478255838843708},"group":"north"},{"pos":{"y":0.12506230541329733,"x":0.30300325664193495},"group":"north"},{"pos":{"y":0.46629218637665015,"x":0.463661777163379},"group":"north"},{"pos":{"y":0.6651009440105862,"x":0.1898378146307037},"group":"north"},{"pos":{"y":0.7626029610529683,"x":0.2793356890853116},"group":"north"},{"pos":{"y":0.5459999704644798,"x":0.7392728347328223},"group":"south"},{"pos":{"y":0.07797498518062196,"x":0.5940153455482604},"group":"north"},{"pos":{"y":0.3390277259487193,"x":0.15925411272035714},"group":"north"}],"extracts":[{"pos":{"y":0.6604196810720211,"x":0.888872661446614},"name":"Med Tent Gate","group":"north"},{"pos":{"y":0.956751193016768,"x":0.08606786858050841},"name":"Gate 0","group":"south"},{"pos":{"y":0.1239574611720482,"x":0.04642318745131796},"name":"Gate 3","group":""}]}]])

MAPNAMES = {}

MAPNAMES["efgm_belmont"] = "Belmont"
MAPNAMES["efgm_concrete"] = "Concrete"
MAPNAMES["efgm_factory"] = "Factory"

function WorldToMapSpace(position, map)

    local mapInfo = MAPINFO[map or game.GetMap()]

    if mapInfo == nil then return end

    local adjustedPos = {}
    adjustedPos.x = (position.x * mapInfo.factor.x) + mapInfo.offset.x
    adjustedPos.y = (position.y * mapInfo.factor.y) + mapInfo.offset.y

    return adjustedPos

end